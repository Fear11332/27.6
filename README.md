# Отчет о проделанной работе

## 1. Регистрация через логин и пароль (+3 балла)

В системе реализована регистрация пользователей с использованием логина и пароля. Это позволяет новым пользователям создать учетную запись и войти в систему, используя свои учетные данные.

## 2. Страница авторизации через логин и пароль (+3 балла)

Создана страница авторизации, на которой пользователи могут входить в систему, вводя заранее созданные логин и пароль. Пользователи видят сообщение об ошибке при неверном вводе данных.

## 3. Авторизация через Google API OAuth (+10 баллов)

Интегрирована система авторизации через Google API OAuth. На странице авторизации добавлена кнопка «Авторизоваться через Google». Реализована защита от CSRF-атак с использованием токенов.

## 4. Система ролей «Обычный пользователь» и «Пользователь Google» (+5 баллов)

Создана система ролей, включающая «Обычного пользователя» и «Пользователя Google». Роли назначаются в зависимости от метода авторизации, и это учитывается при доступе к различным частям приложения.

## 5. Страница, доступная только авторизованным пользователям (+6 баллов)

Создана защищенная страница, доступная только авторизованным пользователям. На странице отображается абзац текста, видимый всем авторизованным пользователям, и изображение, доступное только пользователям с ролью «Пользователь Google».

## 6. Система хранения логов неудачных попыток авторизации (+3 балла)

Реализована система логирования, которая записывает все неудачные попытки авторизации через логин и пароль. Для этого использована библиотека Monolog, установленная с помощью Composer.

## Использованные технологии

- **PHP**: Основной язык программирования для серверной части.
- **PostgreSQL**: СУБД для хранения данных.
- **Composer**: Управление зависимостями и установкой библиотек.
- **Monolog**: Логирование неудачных попыток авторизации.
- **Google API OAuth**: Интеграция авторизации через Google.
- **CSRF Tokens**: Защита форм от атак Cross-Site Request Forgery.

## Использование

1. Для разворачивания базы данных приложения используется скрипт `create_db.sql` используя команду ``sudo psql -U [пользователь] -d 27.6 -f путь_к_приложению/27.6/create_db.sql``.
2. Само приложение можно запустить из под VC code используя встроенный php-сервер на 3000 порту в папке `27.6/php`.
3. В файле `/php/dbclass.php` в классе `Dbclass` заменить пароль от базы для пользователя `postgres` с `saw` на свой в строке со свойством `$this->password = 'saw';`.
4. Испооьзуйте composer для установки необходимых google api ,командой `composer install` вы установите все нужные зависимости из файла `composer.json`.
